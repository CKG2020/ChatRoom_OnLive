{"remainingRequest":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/src/views/sal/SalSobCfg.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/src/views/sal/SalSobCfg.vue","mtime":1609308664000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_user/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: \"SalSobCfg\",\n    data() {\n        return {\n            emps: [],\n            total: 0,\n            currentPage: 1,\n            currentSize: 10,\n            currentSalary: null,\n            salaries: []\n        }\n    },\n    mounted() {\n        this.initEmps();\n        this.initSalaries();\n    },\n    methods: {\n        sizeChange(size) {\n            this.currentSize = size;\n            this.initEmps();\n        },\n        currentChange(page) {\n            this.currentPage = page;\n            this.initEmps();\n        },\n        hidePop(data) {\n            if (this.currentSalary) {\n                this.putRequest('/salary/sobcfg/?eid=' + data.id + '&sid=' + this.currentSalary).then(resp => {\n                    if (resp) {\n                        this.initEmps()\n                    }\n                });\n            }\n        },\n        showPop(data) {\n            if (data) {\n                this.currentSalary = data.id;\n            } else {\n                this.currentSalary = null;\n            }\n        },\n        initSalaries() {\n            this.getRequest(\"/salary/sobcfg/salaries\").then(resp => {\n                if (resp) {\n                    this.salaries = resp;\n                }\n            })\n        },\n        initEmps() {\n            this.getRequest(\"/salary/sobcfg/?page=\" + this.currentPage + '&size=' + this.currentSize).then(resp => {\n                if (resp) {\n                    this.emps = resp.data;\n                    this.total = resp.total;\n                }\n            })\n        }\n    }\n}\n",{"version":3,"sources":["SalSobCfg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SalSobCfg.vue","sourceRoot":"src/views/sal","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-table :data=\"emps\" border stripe size=\"mini\">\n                <el-table-column type=\"selection\" align=\"left\" width=\"55\"></el-table-column>\n                <el-table-column prop=\"name\" label=\"姓名\" fixed width=\"120\" align=\"left\"></el-table-column>\n                <el-table-column prop=\"workID\" label=\"工号\" width=\"120\" align=\"left\"></el-table-column>\n                <el-table-column prop=\"email\" label=\"电子邮件\" width=\"200\" align=\"left\"></el-table-column>\n                <el-table-column prop=\"phone\" label=\"电话号码\" width=\"120\" align=\"left\"></el-table-column>\n                <el-table-column prop=\"department.name\" label=\"所属部门\" width=\"120\" align=\"left\"></el-table-column>\n                <el-table-column label=\"所属部门\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-tooltip placement=\"right\" v-if=\"scope.row.salary\">\n                            <div slot=\"content\">\n                                <table>\n                                    <tr>\n                                        <td>基本工资</td>\n                                        <td>{{scope.row.salary.basicSalary}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>交通补助</td>\n                                        <td>{{scope.row.salary.trafficSalary}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>午餐补助</td>\n                                        <td>{{scope.row.salary.lunchSalary}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>奖金</td>\n                                        <td>{{scope.row.salary.bonus}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>养老金比率</td>\n                                        <td>{{scope.row.salary.pensionPer}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>养老金基数</td>\n                                        <td>{{scope.row.salary.pensionBase}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>医疗保险比率</td>\n                                        <td>{{scope.row.salary.medicalPer}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>医疗保险基数</td>\n                                        <td>{{scope.row.salary.medicalBase}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>公积金比率</td>\n                                        <td>{{scope.row.salary.accumulationFundPer}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>公积金基数</td>\n                                        <td>{{scope.row.salary.accumulationFundBase}}</td>\n                                    </tr>\n                                    <tr>\n                                        <td>启用时间</td>\n                                        <td>{{scope.row.salary.createDate}}</td>\n                                    </tr>\n                                </table>\n                            </div>\n                            <el-tag>{{scope.row.salary.name}}</el-tag>\n                        </el-tooltip>\n                        <el-tag v-else>暂未设置</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-popover\n                                placement=\"left\"\n                                title=\"修改工资账套\"\n                                @show=\"showPop(scope.row.salary)\"\n                                @hide=\"hidePop(scope.row)\"\n                                width=\"200\"\n                                trigger=\"click\">\n                            <div>\n                                <el-select v-model=\"currentSalary\" placeholder=\"请选择\" size=\"mini\">\n                                    <el-option\n                                            v-for=\"item in salaries\"\n                                            :key=\"item.id\"\n                                            :label=\"item.name\"\n                                            :value=\"item.id\">\n                                    </el-option>\n                                </el-select>\n                            </div>\n                            <el-button slot=\"reference\" type=\"danger\">修改工资账套</el-button>\n                        </el-popover>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <div style=\"display: flex;justify-content: flex-end\">\n                <el-pagination\n                        background\n                        @size-change=\"sizeChange\"\n                        @current-change=\"currentChange\"\n                        layout=\"sizes, prev, pager, next, jumper, ->, total, slot\"\n                        :total=\"total\">\n                </el-pagination>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"SalSobCfg\",\n        data() {\n            return {\n                emps: [],\n                total: 0,\n                currentPage: 1,\n                currentSize: 10,\n                currentSalary: null,\n                salaries: []\n            }\n        },\n        mounted() {\n            this.initEmps();\n            this.initSalaries();\n        },\n        methods: {\n            sizeChange(size) {\n                this.currentSize = size;\n                this.initEmps();\n            },\n            currentChange(page) {\n                this.currentPage = page;\n                this.initEmps();\n            },\n            hidePop(data) {\n                if (this.currentSalary) {\n                    this.putRequest('/salary/sobcfg/?eid=' + data.id + '&sid=' + this.currentSalary).then(resp => {\n                        if (resp) {\n                            this.initEmps()\n                        }\n                    });\n                }\n            },\n            showPop(data) {\n                if (data) {\n                    this.currentSalary = data.id;\n                } else {\n                    this.currentSalary = null;\n                }\n            },\n            initSalaries() {\n                this.getRequest(\"/salary/sobcfg/salaries\").then(resp => {\n                    if (resp) {\n                        this.salaries = resp;\n                    }\n                })\n            },\n            initEmps() {\n                this.getRequest(\"/salary/sobcfg/?page=\" + this.currentPage + '&size=' + this.currentSize).then(resp => {\n                    if (resp) {\n                        this.emps = resp.data;\n                        this.total = resp.total;\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}