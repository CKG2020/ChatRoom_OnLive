{"remainingRequest":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/babel-loader/lib/index.js!/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/src/components/sys/basic/PosMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/src/components/sys/basic/PosMana.vue","mtime":1609308664000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ckg/git 总代码/ChatRoom_OnLive/personal/rj_vue/rj_admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"PosMana\",\n  data: function data() {\n    return {\n      pos: {\n        name: ''\n      },\n      dialogVisible: false,\n      loading: false,\n      updatePos: {\n        name: '',\n        enabled: false\n      },\n      multipleSelection: [],\n      positions: []\n    };\n  },\n  mounted: function mounted() {\n    this.initPositions();\n  },\n  methods: {\n    deleteMany: function deleteMany() {\n      var _this = this;\n\n      this.$confirm('此操作将永久删除【' + this.multipleSelection.length + '】条记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var ids = '?';\n\n        _this.multipleSelection.forEach(function (item) {\n          ids += 'ids=' + item.id + '&';\n        });\n\n        _this.deleteRequest(\"/system/basic/pos/\" + ids).then(function (resp) {\n          if (resp) {\n            _this.initPositions();\n          }\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    addPosition: function addPosition() {\n      var _this2 = this;\n\n      if (this.pos.name) {\n        this.postRequest(\"/system/basic/pos/\", this.pos).then(function (resp) {\n          if (resp) {\n            _this2.initPositions();\n\n            _this2.pos.name = '';\n          }\n        });\n      } else {\n        this.$message.error('职位名称不可以为空');\n      }\n    },\n    showEditView: function showEditView(index, data) {\n      Object.assign(this.updatePos, data);\n      this.dialogVisible = true;\n    },\n    doUpdate: function doUpdate() {\n      var _this3 = this;\n\n      this.putRequest(\"/system/basic/pos/\", this.updatePos).then(function (resp) {\n        if (resp) {\n          _this3.initPositions();\n\n          _this3.updatePos.name = '';\n          _this3.dialogVisible = false;\n        }\n      });\n    },\n    handleDelete: function handleDelete(index, data) {\n      var _this4 = this;\n\n      this.$confirm('此操作将永久删除【' + data.name + '】职位, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this4.deleteRequest(\"/system/basic/pos/\" + data.id).then(function (resp) {\n          if (resp) {\n            _this4.initPositions();\n          }\n        });\n      }).catch(function () {\n        _this4.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    initPositions: function initPositions() {\n      var _this5 = this;\n\n      this.loading = true;\n      this.getRequest(\"/system/basic/pos/\").then(function (resp) {\n        _this5.loading = false;\n\n        if (resp) {\n          _this5.positions = resp;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["PosMana.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <el-input\n                    size=\"small\"\n                    class=\"addPosInput\"\n                    v-loading=\"loading\"\n                    element-loading-text=\"正在加载...\"\n                    element-loading-spinner=\"el-icon-loading\"\n                    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n                    placeholder=\"添加职位...\"\n                    prefix-icon=\"el-icon-plus\"\n                    @keydown.enter.native=\"addPosition\"\n                    v-model=\"pos.name\">\n            </el-input>\n            <el-button icon=\"el-icon-plus\" size=\"small\" type=\"primary\" @click=\"addPosition\">添加</el-button>\n        </div>\n        <div class=\"posManaMain\">\n            <el-table\n                    :data=\"positions\"\n                    border\n                    @selection-change=\"handleSelectionChange\"\n                    size=\"small\"\n                    stripe\n                    style=\"width: 70%\">\n                <el-table-column\n                        type=\"selection\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"id\"\n                        label=\"编号\"\n                        width=\"55\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"name\"\n                        label=\"职位名称\"\n                        width=\"180\">\n                </el-table-column>\n                <el-table-column\n                        prop=\"createDate\"\n                        width=\"150\"\n                        label=\"创建时间\">\n                </el-table-column>\n                <el-table-column\n                        label=\"是否启用\">\n                    <template slot-scope=\"scope\">\n                        <el-tag size=\"small\" type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n                        <el-tag size=\"small\" type=\"danger\" v-else>未启用</el-tag>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"mini\"\n                                @click=\"showEditView(scope.$index, scope.row)\">编辑\n                        </el-button>\n                        <el-button\n                                size=\"mini\"\n                                type=\"danger\"\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除\n                        </el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-button @click=\"deleteMany\" type=\"danger\" size=\"small\" style=\"margin-top: 8px\"\n                       :disabled=\"multipleSelection.length==0\">批量删除\n            </el-button>\n        </div>\n        <el-dialog\n                title=\"修改职位\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\">\n            <div>\n                <div>\n                    <el-tag>职位名称</el-tag>\n                    <el-input class=\"updatePosInput\" size=\"small\" v-model=\"updatePos.name\"></el-input>\n                </div>\n                <div>\n                    <el-tag>是否启用</el-tag>\n                    <el-switch\n                            v-model=\"updatePos.enabled\"\n                            active-text=\"启用\"\n                            inactive-text=\"禁用\">\n                    </el-switch>\n                </div>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n    <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n  </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"PosMana\",\n        data() {\n            return {\n                pos: {\n                    name: ''\n                },\n                dialogVisible: false,\n                loading: false,\n                updatePos: {\n                    name: '',\n                    enabled: false\n                },\n                multipleSelection: [],\n                positions: []\n            }\n        },\n        mounted() {\n            this.initPositions();\n        },\n        methods: {\n            deleteMany() {\n                this.$confirm('此操作将永久删除【' + this.multipleSelection.length + '】条记录, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    let ids = '?';\n                    this.multipleSelection.forEach(item => {\n                        ids += 'ids=' + item.id + '&';\n                    })\n                    this.deleteRequest(\"/system/basic/pos/\" + ids).then(resp => {\n                        if (resp) {\n                            this.initPositions();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n            },\n            addPosition() {\n                if (this.pos.name) {\n                    this.postRequest(\"/system/basic/pos/\", this.pos).then(resp => {\n                        if (resp) {\n                            this.initPositions();\n                            this.pos.name = '';\n                        }\n                    })\n                } else {\n                    this.$message.error('职位名称不可以为空');\n                }\n            },\n            showEditView(index, data) {\n                Object.assign(this.updatePos, data);\n                this.dialogVisible = true;\n            },\n            doUpdate() {\n                this.putRequest(\"/system/basic/pos/\", this.updatePos).then(resp => {\n                    if (resp) {\n                        this.initPositions();\n                        this.updatePos.name = '';\n                        this.dialogVisible = false;\n                    }\n                })\n            },\n            handleDelete(index, data) {\n                this.$confirm('此操作将永久删除【' + data.name + '】职位, 是否继续?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.deleteRequest(\"/system/basic/pos/\" + data.id).then(resp => {\n                        if (resp) {\n                            this.initPositions();\n                        }\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            },\n            initPositions() {\n                this.loading = true;\n                this.getRequest(\"/system/basic/pos/\").then(resp => {\n                    this.loading = false;\n                    if (resp) {\n                        this.positions = resp;\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style>\n    .addPosInput {\n        width: 300px;\n        margin-right: 8px\n    }\n\n    .updatePosInput {\n        width: 200px;\n        margin-left: 8px;\n    }\n\n    .posManaMain {\n        margin-top: 10px;\n    }\n</style>"],"sourceRoot":"src/components/sys/basic"}]}